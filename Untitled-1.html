<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>

    let controller = new ScrollMagic.Controller();
let timeline = new TimelineMax();

timeline
.to(".rock", 3, { y:-350 })
.to(".girl", 3, { y:-200 }, "-=3")
.fromTo(".bg1", { y:-60 }, { y: 0, duration: 3 }, "-=3")
.to(".contents", 3,{top:"0%"},"-=3")
.fromTo("nav", { opacity:1 }, { opacity:0 , duration: 3 }, "-=3")
.to(".main-title", 3, {y:100}, "-=3");
let scene = new ScrollMagic.Scene({
    triggerElement: "section",
    duration: "100%",
    triggerHook: 0,
    anticipatePin:2,
})

 .setTween(timeline)
 .setPin("section")
 .addTo(controller);

 let keys=[
     "Manaya resort",
     "Limasawa Island",
     "Maasin Cathedral",
     "Monte Cueva",
     "Tankaan Resort",
     "Mount Cabalian",
     "Tankaan Resort",
 ];

 let slider = new Swiper(".swiper-container", {
     slidesPreView: "auto",
     spaceBetween: 150,
     centeredSlides:true,
     mousewheel:true,
     pagination: {
         el:".links",
         clickable: true,
         renderBullet: function(index, className){
             return '<div class="'+ className +'">' + keys[index] + "</div>";
         }
     }
 });
 slider.on("slideChange", function(){
    gsap.to(".slide-text span", 0.2, {
        x:"-100px"
    })
    gsap.to(".slide-number span", 0.2, {
        x:"-100px"
    })
    gsap.to(".slide-detail span", 0.5, {
        x:"-1000px"
    })
    gsap.to(".swiper-slide-active", 0.5, {
        scale: 0.85
    })
 })

 slider.on("slideChangeTransitionEnd", function(){
    gsap.to(".slide-text span", 0.2, {
        x: 0,
        delay: 0.1
    })
    gsap.to(".slide-text span", 0.2, {
        x: "100px"
    })
    gsap.to(".slide-number span", 0.2, {
        x: 0,
        delay: 0.1
    })
    gsap.to(".slide-number span", 0.2, {
        x: "100px"
    })
    gsap.to(".slide-detail span", 0.5, {
        x: 0
    })
    gsap.to(".swiper-slide-active", 0.5, {
        scale: 1,
        ease: Power4.easeOut
    })
 })